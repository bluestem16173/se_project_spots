!function(){"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),function(){var t;e.g.importScripts&&(t=e.g.location+"");var r=e.g.document;if(!t&&r&&(r.currentScript&&"SCRIPT"===r.currentScript.tagName.toUpperCase()&&(t=r.currentScript.src),!t)){var n=r.getElementsByTagName("script");if(n.length)for(var o=n.length-1;o>-1&&(!t||!/^http(s?):/.test(t));)t=n[o--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t+"../../"}();const t=e=>{e&&(e.classList.add("modal_opened"),document.addEventListener("keydown",n))},r=e=>{e&&(e.classList.remove("modal_opened"),document.removeEventListener("keydown",n))},n=e=>{if("Escape"===e.key){const e=document.querySelector(".modal.modal_opened");e&&r(e)}};function o(e){[...document.querySelectorAll(e.formSelector)].forEach(t=>{t.setAttribute("novalidate",""),t.addEventListener("submit",e=>e.preventDefault()),function(e,t){const r=[...e.querySelectorAll(t.inputSelector)],n=e.querySelector(t.submitButtonSelector);a(r,n,t),r.forEach(o=>{o.addEventListener("input",()=>{!function(e,t,r){t.validity.valid?function(e,t,r){const n=c(e,t,r);n&&(n.textContent="",n.classList.remove(r.errorVisibleClass),t.classList.remove(r.inputErrorClass))}(e,t,r):function(e,t,r){const n=c(e,t,r);n&&(n.textContent=t.validationMessage,n.classList.add(r.errorVisibleClass),t.classList.add(r.inputErrorClass))}(e,t,r)}(e,o,t),a(r,n,t)}),o.addEventListener("invalid",e=>e.preventDefault())})}(t,e)})}function a(e,t,r){if(!t)return;const n=function(e){return e.some(e=>!e.validity.valid)}(e);t.disabled=n,t.classList.toggle(r.inactiveButtonClass,n)}function c(e,t,r){return e.querySelector(`#${CSS.escape(t.id)}${r.errorSuffix}`)}const i="modal_opened";let s=null,l=!1;function u(e){"Escape"===e.key&&s&&d(s)}function d(e){e&&(e.classList.remove(i),s===e&&(s=null),!s&&l&&(document.removeEventListener("keydown",u),l=!1))}window.openModal=function(e){e&&(s&&s!==e&&d(s),s=e,e.classList.add(i),l||(document.addEventListener("keydown",u),l=!0))},window.closeModal=d;var m=e.p+"assets/avatar.jpg";const p=[{name:"Golden Gate Bridge",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/7-photo-by-griffin-wooldridge-from-pexels.jpg"},{name:"Val Thorens",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/1-photo-by-moritz-feldmann-from-pexels.jpg"},{name:"Restaurant terrace",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/2-photo-by-ceiline-from-pexels.jpg"},{name:"An outdoor cafe",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/3-photo-by-tubanur-dogan-from-pexels.jpg"},{name:"A very long bridge, over the forest and through the trees",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/4-photo-by-maurice-laschet-from-pexels.jpg"},{name:"Tunnel with morning light",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/5-photo-by-van-anh-nguyen-from-pexels.jpg"},{name:"Mountain house",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/6-photo-by-moritz-feldmann-from-pexels.jpg"}],f={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__submit-btn",inactiveButtonClass:"modal__submit-btn_disabled",inputErrorClass:"modal__input_type_error",errorSuffix:"-error",errorVisibleClass:"modal__error_visible"};function v({name:e,link:r},{cardTemplate:n,previewModal:o,previewImgEl:a,previewCaptionEl:c}){if(!n)return document.createDocumentFragment();const i=n.content.querySelector(".card").cloneNode(!0),s=i.querySelector(".card__image"),l=i.querySelector(".card__title"),u=i.querySelector(".card__like-btn"),d=i.querySelector(".card__delete-btn");return s.src=r,s.alt=e,l.textContent=e,u?.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),u.classList.toggle("card__like-btn_liked")}),d?.addEventListener("click",e=>{e.preventDefault(),i.remove()}),s.addEventListener("click",n=>{n.preventDefault(),o&&a&&c&&(a.src=r,a.alt=e,c.textContent=e,t(o))}),i}document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".profile__avatar");e&&(e.src=m),function(){const e=document.querySelector("#edit-profile-modal"),n=document.querySelector("#new-post-modal"),o=document.querySelector("#preview-modal"),a=document.querySelector(".profile__name"),c=document.querySelector(".profile__description"),i=document.querySelector(".profile__edit-btn"),s=document.querySelector(".profile__add-btn"),l=e?.querySelector(".modal__form"),u=e?.querySelector(".modal__close-btn"),d=e?.querySelector("#profile-name-input"),m=e?.querySelector("#profile-description-input"),f=n?.querySelector(".modal__form"),_=n?.querySelector("#profile-caption-input"),y=n?.querySelector("#card-image-input"),g=n?.querySelector(".modal__close-btn"),w=o?.querySelector(".modal__close-btn"),S=o?.querySelector(".modal__image"),b=o?.querySelector(".modal__caption");i&&e&&l&&d&&m&&(i.addEventListener("click",()=>{d.value=a?.textContent?.trim()??"",m.value=c?.textContent?.trim()??"",t(e)}),u?.addEventListener("click",()=>r(e)),l.addEventListener("submit",t=>{t.preventDefault(),a.textContent=d.value.trim(),c.textContent=m.value.trim(),r(e)})),s&&n&&f&&_&&y&&(s.addEventListener("click",()=>t(n)),g?.addEventListener("click",()=>r(n)),f.addEventListener("submit",e=>{e.preventDefault();const t=_.value.trim(),a=y.value.trim();if(!t||!a)return;const c=document.querySelector(".cards__list"),i=document.querySelector("#card-template");if(!c||!i)return;const s=v({name:t,link:a},{cardTemplate:i,previewModal:o,previewImgEl:S,previewCaptionEl:b});c.prepend(s),f.reset(),r(n)})),o&&w&&w.addEventListener("click",()=>r(o)),document.querySelectorAll(".modal").forEach(e=>{e.addEventListener("mousedown",t=>{t.target===e&&r(e)})}),function(e){const t=document.querySelector(".cards__list"),r=document.querySelector("#card-template");if(!t||!r)return;const n=document.createDocumentFragment();p.forEach(t=>{n.append(v(t,{cardTemplate:r,...e}))}),t.append(n)}({previewModal:o,previewImgEl:S,previewCaptionEl:b})}(),o(f)})}();
//# sourceMappingURL=main.5ad33f119ef472145db8.js.map