{"version":3,"file":"assets/js/main.5ad33f119ef472145db8.js","mappings":"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","sources":["webpack://se_project_spots/webpack/bootstrap","webpack://se_project_spots/webpack/runtime/global","webpack://se_project_spots/webpack/runtime/publicPath","webpack://se_project_spots/./src/scripts/modal.js","webpack://se_project_spots/./src/scripts/validation.js","webpack://se_project_spots/./src/pages/index.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript && document.currentScript.tagName.toUpperCase() === 'SCRIPT')\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) {\n\t\t\tvar i = scripts.length - 1;\n\t\t\twhile (i > -1 && (!scriptUrl || !/^http(s?):/.test(scriptUrl))) scriptUrl = scripts[i--].src;\n\t\t}\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/^blob:/, \"\").replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl + \"../../\";","// src/scripts/modal.js\r\nexport const openModal = (modalEl) => {\r\n  if (!modalEl) return;\r\n  modalEl.classList.add(\"modal_opened\");\r\n  document.addEventListener(\"keydown\", onEsc);\r\n};\r\n\r\nexport const closeModal = (modalEl) => {\r\n  if (!modalEl) return;\r\n  modalEl.classList.remove(\"modal_opened\");\r\n  document.removeEventListener(\"keydown\", onEsc);\r\n};\r\n\r\nconst onEsc = (e) => {\r\n  if (e.key === \"Escape\") {\r\n    const opened = document.querySelector(\".modal.modal_opened\");\r\n    if (opened) closeModal(opened);\r\n  }\r\n};\r\n","/**********************\r\n *  CONFIG (cfg)\r\n **********************/\r\nexport const cfg = {\r\n  formSelector: \".modal__form\",\r\n  inputSelector: \".modal__input\",\r\n  submitButtonSelector: \".modal__submit-btn\",\r\n  inactiveButtonClass: \"modal__submit-btn_disabled\",\r\n  inputErrorClass: \"modal__input_type_error\",\r\n  errorSuffix: \"-error\",\r\n  errorVisibleClass: \"modal__error_visible\"\r\n};\r\n/**********************\r\n *  VALIDATION\r\n **********************/\r\nexport function enableValidation(cfg) {\r\n  const forms = [...document.querySelectorAll(cfg.formSelector)];\r\n  forms.forEach((form) => {\r\n    form.setAttribute(\"novalidate\", \"\");              // keep native bubbles off\r\n    form.addEventListener(\"submit\", (e) => e.preventDefault());\r\n    setEventListeners(form, cfg);\r\n  });\r\n}\r\n\r\nfunction setEventListeners(form, cfg) {\r\n  const inputs = [...form.querySelectorAll(cfg.inputSelector)];\r\n  const submitBtn = form.querySelector(cfg.submitButtonSelector);\r\n  toggleButtonState(inputs, submitBtn, cfg);\r\n\r\n  inputs.forEach((input) => {\r\n    input.addEventListener(\"input\", () => {\r\n      checkInputValidity(form, input, cfg);\r\n      toggleButtonState(inputs, submitBtn, cfg);\r\n    });\r\n    // prevent native bubble on individual fields just in case\r\n    input.addEventListener(\"invalid\", (e) => e.preventDefault());\r\n  });\r\n}\r\n\r\nfunction hasInvalidInput(inputs) {\r\n  return inputs.some((i) => !i.validity.valid);\r\n}\r\n\r\nfunction toggleButtonState(inputs, button, cfg) {\r\n  if (!button) return;\r\n  const shouldDisable = hasInvalidInput(inputs);\r\n  button.disabled = shouldDisable;\r\n  button.classList.toggle(cfg.inactiveButtonClass, shouldDisable);\r\n}\r\n\r\nfunction getErrorSpan(form, input, cfg) {\r\n  return form.querySelector(`#${CSS.escape(input.id)}${cfg.errorSuffix}`);\r\n}\r\n\r\nfunction showInputError(form, input, cfg) {\r\n  const errorSpan = getErrorSpan(form, input, cfg);\r\n  if (!errorSpan) return;\r\n  errorSpan.textContent = input.validationMessage;\r\n  errorSpan.classList.add(cfg.errorVisibleClass);\r\n  input.classList.add(cfg.inputErrorClass);\r\n}\r\n\r\nfunction hideInputError(form, input, cfg) {\r\n  const errorSpan = getErrorSpan(form, input, cfg);\r\n  if (!errorSpan) return;\r\n  errorSpan.textContent = \"\";\r\n  errorSpan.classList.remove(cfg.errorVisibleClass);\r\n  input.classList.remove(cfg.inputErrorClass);\r\n}\r\n\r\nfunction checkInputValidity(form, input, cfg) {\r\n  if (!input.validity.valid) showInputError(form, input, cfg);\r\n  else hideInputError(form, input, cfg);\r\n}\r\n\r\nfunction resetValidation(form, cfg, { resetFields = false } = {}) {\r\n  const inputs = [...form.querySelectorAll(cfg.inputSelector)];\r\n  const submitBtn = form.querySelector(cfg.submitButtonSelector);\r\n  if (resetFields) form.reset();\r\n  inputs.forEach((i) => hideInputError(form, i, cfg));\r\n  toggleButtonState(inputs, submitBtn, cfg);\r\n}\r\n\r\n/**********************\r\n *  MODAL + ESC (single source of truth)\r\n **********************/\r\nconst OPEN_CLASS = \"modal_opened\";\r\nlet activeModal = null;\r\nlet escAttached = false;\r\n\r\nfunction onEscKeydown(evt) {\r\n  if (evt.key === \"Escape\" && activeModal) closeModal(activeModal);\r\n}\r\n\r\nfunction openModal(modal) {\r\n  if (!modal) return;\r\n  if (activeModal && activeModal !== modal) closeModal(activeModal);\r\n  activeModal = modal;\r\n  modal.classList.add(OPEN_CLASS);\r\n\r\n  if (!escAttached) {\r\n    document.addEventListener(\"keydown\", onEscKeydown);\r\n    escAttached = true;\r\n  }\r\n}\r\n\r\nfunction closeModal(modal) {\r\n  if (!modal) return;\r\n  modal.classList.remove(OPEN_CLASS);\r\n  if (activeModal === modal) activeModal = null;\r\n\r\n  if (!activeModal && escAttached) {\r\n    document.removeEventListener(\"keydown\", onEscKeydown);\r\n    escAttached = false;\r\n  }\r\n}\r\n\r\n// expose for other files\r\nwindow.openModal = openModal;\r\nwindow.closeModal = closeModal;\r\n\r\n/**********************\r\n *  BOOTSTRAP\r\n **********************/\r\n","import \"./index.css\";\nimport { openModal, closeModal } from \"../scripts/modal.js\";\nimport { enableValidation } from \"../scripts/validation.js\";\nimport avatarImage from \"../images/avatar.jpg\";\n\nconst initialCards = [\n  {\n    name: \"Golden Gate Bridge\",\n    link: \"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/7-photo-by-griffin-wooldridge-from-pexels.jpg\"\n  },\n  {\n    name: \"Val Thorens\",\n    link: \"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/1-photo-by-moritz-feldmann-from-pexels.jpg\"\n  },\n  {\n    name: \"Restaurant terrace\",\n    link: \"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/2-photo-by-ceiline-from-pexels.jpg\"\n  },\n  {\n    name: \"An outdoor cafe\",\n    link: \"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/3-photo-by-tubanur-dogan-from-pexels.jpg\"\n  },\n  {\n    name: \"A very long bridge, over the forest and through the trees\",\n    link: \"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/4-photo-by-maurice-laschet-from-pexels.jpg\"\n  },\n  {\n    name: \"Tunnel with morning light\",\n    link: \"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/5-photo-by-van-anh-nguyen-from-pexels.jpg\"\n  },\n  {\n    name: \"Mountain house\",\n    link: \"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/6-photo-by-moritz-feldmann-from-pexels.jpg\"\n  }\n];\n\nconst validationConfig = {\n  formSelector: \".modal__form\",\n  inputSelector: \".modal__input\",\n  submitButtonSelector: \".modal__submit-btn\",\n  inactiveButtonClass: \"modal__submit-btn_disabled\",\n  inputErrorClass: \"modal__input_type_error\",\n  errorSuffix: \"-error\",\n  errorVisibleClass: \"modal__error_visible\"\n};\n\nfunction initModals() {\n  const editProfileModal = document.querySelector(\"#edit-profile-modal\");\n  const newPostModal = document.querySelector(\"#new-post-modal\");\n  const previewModal = document.querySelector(\"#preview-modal\");\n\n  const profileNameEl = document.querySelector(\".profile__name\");\n  const profileDescriptionEl = document.querySelector(\".profile__description\");\n\n  const editProfileBtn = document.querySelector(\".profile__edit-btn\");\n  const addProfileBtn = document.querySelector(\".profile__add-btn\");\n\n  const editProfileFormEl = editProfileModal?.querySelector(\".modal__form\");\n  const editProfileCloseBtn = editProfileModal?.querySelector(\".modal__close-btn\");\n  const editProfileNameInput = editProfileModal?.querySelector(\"#profile-name-input\");\n  const editProfileDescriptionInput = editProfileModal?.querySelector(\"#profile-description-input\");\n\n  const addCardFormEl = newPostModal?.querySelector(\".modal__form\");\n  const addCaptionInput = newPostModal?.querySelector(\"#profile-caption-input\");\n  const addLinkInput = newPostModal?.querySelector(\"#card-image-input\");\n  const newPostCloseBtn = newPostModal?.querySelector(\".modal__close-btn\");\n\n  const previewCloseBtn = previewModal?.querySelector(\".modal__close-btn\");\n  const previewImgEl = previewModal?.querySelector(\".modal__image\");\n  const previewCaptionEl = previewModal?.querySelector(\".modal__caption\");\n\n  if (editProfileBtn && editProfileModal && editProfileFormEl && editProfileNameInput && editProfileDescriptionInput) {\n    editProfileBtn.addEventListener(\"click\", () => {\n      editProfileNameInput.value = profileNameEl?.textContent?.trim() ?? \"\";\n      editProfileDescriptionInput.value = profileDescriptionEl?.textContent?.trim() ?? \"\";\n      openModal(editProfileModal);\n    });\n\n    editProfileCloseBtn?.addEventListener(\"click\", () => closeModal(editProfileModal));\n\n    editProfileFormEl.addEventListener(\"submit\", (evt) => {\n      evt.preventDefault();\n      profileNameEl.textContent = editProfileNameInput.value.trim();\n      profileDescriptionEl.textContent = editProfileDescriptionInput.value.trim();\n      closeModal(editProfileModal);\n    });\n  }\n\n  if (addProfileBtn && newPostModal && addCardFormEl && addCaptionInput && addLinkInput) {\n    addProfileBtn.addEventListener(\"click\", () => openModal(newPostModal));\n    newPostCloseBtn?.addEventListener(\"click\", () => closeModal(newPostModal));\n\n    addCardFormEl.addEventListener(\"submit\", (evt) => {\n      evt.preventDefault();\n\n      const name = addCaptionInput.value.trim();\n      const link = addLinkInput.value.trim();\n      if (!name || !link) return;\n\n      const cardsList = document.querySelector(\".cards__list\");\n      const cardTemplate = document.querySelector(\"#card-template\");\n      if (!cardsList || !cardTemplate) return;\n\n      const cardEl = createCard({ name, link }, { cardTemplate, previewModal, previewImgEl, previewCaptionEl });\n      cardsList.prepend(cardEl);\n\n      addCardFormEl.reset();\n      closeModal(newPostModal);\n    });\n  }\n\n  if (previewModal && previewCloseBtn) {\n    previewCloseBtn.addEventListener(\"click\", () => closeModal(previewModal));\n  }\n\n  document.querySelectorAll(\".modal\").forEach((modal) => {\n    modal.addEventListener(\"mousedown\", (evt) => {\n      if (evt.target === modal) closeModal(modal);\n    });\n  });\n\n  renderInitialCards({ previewModal, previewImgEl, previewCaptionEl });\n}\n\nfunction createCard({ name, link }, { cardTemplate, previewModal, previewImgEl, previewCaptionEl }) {\n  if (!cardTemplate) return document.createDocumentFragment();\n\n  const cardElement = cardTemplate.content.querySelector(\".card\").cloneNode(true);\n  const cardImageEl = cardElement.querySelector(\".card__image\");\n  const cardTitleEl = cardElement.querySelector(\".card__title\");\n  const cardLikeBtnEl = cardElement.querySelector(\".card__like-btn\");\n  const cardDeleteBtnEl = cardElement.querySelector(\".card__delete-btn\");\n\n  cardImageEl.src = link;\n  cardImageEl.alt = name;\n  cardTitleEl.textContent = name;\n\n  cardLikeBtnEl?.addEventListener(\"click\", (evt) => {\n    evt.preventDefault();\n    evt.stopPropagation();\n    cardLikeBtnEl.classList.toggle(\"card__like-btn_liked\");\n  });\n\n  cardDeleteBtnEl?.addEventListener(\"click\", (evt) => {\n    evt.preventDefault();\n    cardElement.remove();\n  });\n\n  cardImageEl.addEventListener(\"click\", (evt) => {\n    evt.preventDefault();\n    if (previewModal && previewImgEl && previewCaptionEl) {\n      previewImgEl.src = link;\n      previewImgEl.alt = name;\n      previewCaptionEl.textContent = name;\n      openModal(previewModal);\n    }\n  });\n\n  return cardElement;\n}\n\nfunction renderInitialCards(previewCtx) {\n  const cardsList = document.querySelector(\".cards__list\");\n  const cardTemplate = document.querySelector(\"#card-template\");\n\n  if (!cardsList || !cardTemplate) return;\n\n  const fragment = document.createDocumentFragment();\n  initialCards.forEach((cardData) => {\n    fragment.append(createCard(cardData, { cardTemplate, ...previewCtx }));\n  });\n\n  cardsList.append(fragment);\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  const profileAvatar = document.querySelector(\".profile__avatar\");\n  if (profileAvatar) {\n    profileAvatar.src = avatarImage;\n  }\n\n  initModals();\n  enableValidation(validationConfig);\n});"],"names":["__webpack_require__","g","globalThis","this","Function","e","window","scriptUrl","importScripts","location","document","currentScript","tagName","toUpperCase","src","scripts","getElementsByTagName","length","i","test","Error","replace","p","openModal","modalEl","classList","add","addEventListener","onEsc","closeModal","remove","removeEventListener","key","opened","querySelector","enableValidation","cfg","querySelectorAll","formSelector","forEach","form","setAttribute","preventDefault","inputs","inputSelector","submitBtn","submitButtonSelector","toggleButtonState","input","validity","valid","errorSpan","getErrorSpan","textContent","errorVisibleClass","inputErrorClass","hideInputError","validationMessage","showInputError","checkInputValidity","setEventListeners","button","shouldDisable","some","hasInvalidInput","disabled","toggle","inactiveButtonClass","CSS","escape","id","errorSuffix","OPEN_CLASS","activeModal","escAttached","onEscKeydown","evt","modal","initialCards","name","link","validationConfig","createCard","cardTemplate","previewModal","previewImgEl","previewCaptionEl","createDocumentFragment","cardElement","content","cloneNode","cardImageEl","cardTitleEl","cardLikeBtnEl","cardDeleteBtnEl","alt","stopPropagation","profileAvatar","avatarImage","editProfileModal","newPostModal","profileNameEl","profileDescriptionEl","editProfileBtn","addProfileBtn","editProfileFormEl","editProfileCloseBtn","editProfileNameInput","editProfileDescriptionInput","addCardFormEl","addCaptionInput","addLinkInput","newPostCloseBtn","previewCloseBtn","value","trim","cardsList","cardEl","prepend","reset","target","previewCtx","fragment","cardData","append","renderInitialCards","initModals"],"sourceRoot":""}